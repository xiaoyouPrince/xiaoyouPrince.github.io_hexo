<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="记录技术积累之路、愿明天更美好">
    <meta name="keyword" content="null">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="http://upload-images.jianshu.io/upload_images/1256297-fafd7a5e5c553bd3.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240# your favicon png">
    <link rel="alternate" type="application/atom+xml" title="xiaoyouPrince" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        数据结构(二)--数组和链表｜xiaoyou&#39;s blog
        
    </title>

    <link rel="canonical" href="http://xiaoyouprince.com/2017/12/15/数据结构(二)--数组和链表/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('//o7bkkhiex.bkt.clouddn.com/lion-blur-bg.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    xiaoyouPrince
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
                        
							
                        <li>
                            <a href="/My-Works/">My Works</a>
                        </li>
							
						
                    
                        
							
                        <li>
                            <a href="/tags/">tags</a>
                        </li>
							
						
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="http://oozx6yayl.bkt.clouddn.com/wall.jpg">


<style>
    
    header.intro-header {
        background-image: url('http://oozx6yayl.bkt.clouddn.com/wall.jpg?imageView2/1/w/1400/h/400/interlace/1/q/90')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>数据结构(二)--数组和链表</h1>
                    
                    <h2 class="subheading">数据结构回顾</h2>
                    
                    <span class="meta">
                         作者 xiaoyouPrince
                        <span>
                          日期 2017-12-15
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/tags/#数据结构"
                           title="数据结构">数据结构</a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            数据结构(二)--数组和链表
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <!--这个Hexo的md格式读取可能有些问题，和MWeb的解析出来不一样-->
<h1 id="数据结构-二-–数组和链表"><a href="#数据结构-二-–数组和链表" class="headerlink" title="数据结构(二)–数组和链表"></a>数据结构(二)–数组和链表</h1><p>数据结构主要可以分为两大模块：</p>
<ul>
<li>线性结构</li>
<li>非线性结构</li>
</ul>
<p>本文主要开始讲线性结构。</p>
<h2 id="什么是线性结构"><a href="#什么是线性结构" class="headerlink" title="什么是线性结构"></a>什么是线性结构</h2><p>线性结构，顾名思义，就是这些数据所有节点都能被一根线(指针)联系起来的一种结构。</p>
<p><strong>线性结构的存储方式：</strong></p>
<ol>
<li>连续存储：【数组】</li>
<li>离散存储：【链表】</li>
</ol>
<p><strong>线性结构的常见应用方式：</strong></p>
<ol>
<li>栈</li>
<li>队列</li>
</ol>
<p><strong>专题 :【递归】</strong></p>
<h2 id="数组和链表"><a href="#数组和链表" class="headerlink" title="数组和链表"></a>数组和链表</h2><p>本小节学习数组和链表，从底层去了解和实现数组与链表，并分析两者对应的优缺点</p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组是最常见的链式存储结构，它是一段连续的内存空间，在内存中我们可以简单表示为下图样式</p>
<!--数组内存示意图，，，数组中元素类型相同，大小相等-->
<p><img src="http://upload-images.jianshu.io/upload_images/1256297-8cfaa11cd3ddea7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="002.数组的内存表示示意图.png"></p>
<p>通过上图我们可以把代码中<code>int arr[6] = {1,2,3,4,5,6};</code>执行的操作从内存中脑补出来，同时我们可以简单分析一下，数组应该有的一些基本使用。如</p>
<ul>
<li>初始化、</li>
<li>添加新元素、</li>
<li>插入新元素、</li>
<li>删除某个元素、</li>
<li>判断是否为空数组、</li>
<li>是否是满数组、</li>
<li>排序</li>
<li>倒序</li>
<li>查询是否包含某个元素</li>
<li>······</li>
</ul>
<p>本小节就带着你手把手实现一个简单的数组的封装，借此来了解数组的数据结构以及内部的一些基本算法知识。这里就简单的以一个 int 类型的数组来示例，后面学到泛型的时候便可更加好的理解数组的实现。</p>
<p>首先简单分析一下数组中基本的属性，我们有上面的数组内存中的逻辑图可以确定数组有对应的内存空间，有一个内存起始地址，因为系统分配内存的时候长度是一定的，所以数组中有一个表示最大长度的属性，数组中的元素也可能会根据实际个数不定，所以肯定有元素个数的标记，这个标记不仅可以拿来查看数组元素个数，也能确定了元素的下标。通过简单的分析我们可以总结数组中基本的属性如下：</p>
<ul>
<li>【pBase】 数组首字节地址</li>
<li>【length】 数组长度(决定分配的内存大小)</li>
<li>【count】 数组中有效元素个数</li>
</ul>
<!--下面就开始手把手分析和实现一个数组-->
<p>下面就根据上面的分析来实现一个简单的数组，这里只说一下思路，完整代码请在这里下载<a href="https://github.com/xiaoyouPrince/DataStructure" target="_blank" rel="external">数组实现代码</a></p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 定义个数组</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Array</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> length; <span class="comment">// 数组长度</span></div><div class="line">    <span class="keyword">int</span> count;  <span class="comment">// 数组当前元素数 count</span></div><div class="line">    <span class="keyword">int</span> *pBase; <span class="comment">// 数组的首字节地址</span></div><div class="line">&#125;* PMyArray,MyArray; <span class="comment">//两个别名，PMyArray 类似java中类名，定义的对象不带 * , MyArray类似于OC中的类型，定义的对象带 * 。</span></div><div class="line"></div><div class="line"><span class="comment">// 要实现的一些基本方法</span></div><div class="line"></div><div class="line"><span class="comment">/** 初始化数组*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_Arr</span><span class="params">(MyArray *pArr, <span class="keyword">int</span> len)</span></span>;</div><div class="line"><span class="comment">/** 追加数组*/</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">append_Arr</span><span class="params">(MyArray *pArr, <span class="keyword">int</span> value)</span></span>;</div><div class="line"><span class="comment">/** 插入数组*/</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insert_Arr</span><span class="params">(MyArray *pArr, <span class="keyword">int</span> index , <span class="keyword">int</span> value)</span></span>;</div><div class="line"><span class="comment">/** 删除数组*/</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">delete_Arr</span><span class="params">(MyArray *pArr, <span class="keyword">int</span> index , <span class="keyword">int</span> * pVal)</span></span>;</div><div class="line"><span class="comment">/** 是否满载*/</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_full</span><span class="params">(MyArray *pArr)</span></span>;</div><div class="line"><span class="comment">/** 是否为空*/</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_empty</span><span class="params">(MyArray *pArr)</span></span>;</div><div class="line"><span class="comment">/** 排序数组*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort_Arr</span><span class="params">(MyArray *pArr)</span></span>;</div><div class="line"><span class="comment">/** 展示数组*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">show_Arr</span><span class="params">(MyArray *pArr)</span></span>;</div><div class="line"><span class="comment">/** 倒序数组*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inversion_Arr</span><span class="params">(MyArray *pArr)</span></span>;</div><div class="line"></div><div class="line"><span class="comment">/** 获取一个默认初始化的数组*/</span></div><div class="line"><span class="function">MyArray * <span class="title">get_Arr</span><span class="params">(<span class="keyword">void</span>)</span></span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line"></div><div class="line">    MyArray arr;        <span class="comment">// 声明</span></div><div class="line">    <span class="keyword">int</span> len = <span class="number">6</span>;        <span class="comment">// 定义数组长度</span></div><div class="line">    init_Arr(&amp;arr,len);     <span class="comment">// 初始化</span></div><div class="line">    </div><div class="line">    <span class="comment">// 添加元素</span></div><div class="line">    <span class="keyword">int</span> time = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (time &lt; len) &#123;</div><div class="line">        append_Arr(&amp;arr, <span class="number">100</span> + time);</div><div class="line">        time++;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    insert_Arr(&amp;arr, <span class="number">6</span>, <span class="number">200</span>);  <span class="comment">// 插入元素</span></div><div class="line">    insert_Arr(&amp;arr, <span class="number">7</span>, <span class="number">300</span>);</div><div class="line">    insert_Arr(&amp;arr, arr.count, <span class="number">400</span>);</div><div class="line">    insert_Arr(&amp;arr, <span class="number">0</span>, <span class="number">500</span>);</div><div class="line">    insert_Arr(&amp;arr, <span class="number">3</span>, <span class="number">600</span>);</div><div class="line"></div><div class="line">    show_Arr(&amp;arr);         <span class="comment">// 打印数组元素</span></div><div class="line">    </div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    <span class="comment">//delete_Arr(&amp;arr, 3 ,NULL);    // 删除第三个元素</span></div><div class="line">    delete_Arr(&amp;arr, <span class="number">3</span> ,&amp;val);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"被删除的元素是 %d \n"</span>,val);</div><div class="line">    </div><div class="line">    show_Arr(&amp;arr);         <span class="comment">// 打印数组元素</span></div><div class="line">    </div><div class="line">    inversion_Arr(&amp;arr);    <span class="comment">// 倒序排列一下</span></div><div class="line">    </div><div class="line">    show_Arr(&amp;arr);         <span class="comment">// 打印数组元素</span></div><div class="line">    </div><div class="line">    sort_Arr(&amp;arr);         <span class="comment">// 排序数组</span></div><div class="line">    </div><div class="line">    show_Arr(&amp;arr);         <span class="comment">// 打印数组元素</span></div><div class="line">    </div><div class="line">       </div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -- OOP</span></div><div class="line">    </div><div class="line">    <span class="comment">// 类似于 OC 中的面向对象用法</span></div><div class="line">    MyArray * array3 = get_Arr();</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"array3 address is %p\n"</span>,array3);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"array3 address is %p\n"</span>,&amp;array3);</div><div class="line">    show_Arr(array3);</div><div class="line"></div><div class="line">    <span class="comment">// 类似于 java 中的面向对象用法</span></div><div class="line">    PMyArray myArray4 = get_Arr();</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"array4 address is %p\n"</span>,myArray4);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"array4 address is %p\n"</span>,&amp;myArray4);</div><div class="line">    show_Arr(myArray4);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 初始化数组，对内部元素基本初始化</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_Arr</span><span class="params">(MyArray *pArr,<span class="keyword">int</span> len)</span></span>&#123;</div><div class="line">    </div><div class="line">    (*pArr).pBase = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * len); <span class="comment">//  先分配一段内存空间，长度为 len * int长度。</span></div><div class="line">    <span class="keyword">if</span>(pArr-&gt;pBase == <span class="literal">NULL</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"内存分配失败，初始化失败\n"</span>);</div><div class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>); <span class="comment">// 终止程序</span></div><div class="line">    &#125;<span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        pArr-&gt;length = len;</div><div class="line">        pArr-&gt;count = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> 实现数组插入</div><div class="line"> </div><div class="line"> 1. 判断插入下标是否越界</div><div class="line"> 2. 如果插入前数组已经满了，就增大一个长度，重新插入</div><div class="line"> 3. 如果插入前数组未满</div><div class="line">     3.1 当插入位置小于最大元素下标，先把要插入目标点后面的元素往后移动一个单位。 如在&#123;1，2，4，5&#125;中第3个位置插入3，结果为&#123;1，2，3，4，5&#125;</div><div class="line">     3.2 当插入位置大于等于最大元素下标，直接在原来数组后面add最后一个元素。 如在&#123;1，2&#125;中第5个位置插入 3 结果为&#123;1，2，3&#125;</div><div class="line"></div><div class="line"> @param pArr 要操作的数组的指针</div><div class="line"> @param index 要插入的index 即下标</div><div class="line"> @param value 要插入的值</div><div class="line"> @return 返回插入成功/失败</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insert_Arr</span><span class="params">(MyArray *pArr, <span class="keyword">int</span> index , <span class="keyword">int</span> value)</span></span>&#123;</div><div class="line">    <span class="comment">// 为减少篇幅，建议直接下载源码</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> 实现数组删除某个元素</div><div class="line"> 并可以从外部获得被删除元素的值</div><div class="line"> </div><div class="line"> 1. 判断删除下标是否越界</div><div class="line"> 2. 判断原数组是否为空</div><div class="line"> 3. 如果删除前先保存对应 index 的值赋值给外部变量</div><div class="line">    把要删除目标点后面的元素往前移动一个单位。 如在&#123;1，2，3，4，5&#125;中第3个位置删除3，结果为&#123;1，2，4，5&#125;</div><div class="line"> </div><div class="line"> @param pArr 要操作的数组的指针</div><div class="line"> @param index 要伤处的index 即下标</div><div class="line"> @param pVal 要删除值的地址</div><div class="line"> @return 返回删除成功/失败</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">delete_Arr</span><span class="params">(MyArray *pArr , <span class="keyword">int</span> index ,<span class="keyword">int</span> *pVal)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// 为减少篇幅，建议直接下载源码</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> 往数组尾部添加元素</div><div class="line"></div><div class="line"> @param pArr 数组指针</div><div class="line"> @param value 要添加的元素值</div><div class="line"> @return 添加成功/失败</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">append_Arr</span><span class="params">(MyArray *pArr,<span class="keyword">int</span> value)</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (!is_full(pArr)) &#123; <span class="comment">// 判断是不是已经满了数组</span></div><div class="line">        <span class="comment">// 数组未满，添加</span></div><div class="line">        pArr-&gt;pBase[pArr-&gt;count] = value;</div><div class="line">        pArr-&gt;count++;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        </div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"数组已经满了,无法从尾部追加元素，请尝试从前面插入\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 为了控制篇幅，这里不再进行罗列，可以直接去下载源码对比查看</span></div></pre></td></tr></table></figure>
<!--手把手实现数组-->
<p>数组的内存结构是线性的，通过这个例子的实现也更加容易理解。数组是一种常用的也是固定内存排序线性结构。然而在很多情况下是数据在内存中并不会这样线性的去排布。</p>
<blockquote>
<p>虽说C语言是面向过程的语言，事实上这只是一种表象，学了数据结构其实我们可以发现我们完全可以用 C语言 实现面向对象语言的特性。事实上几乎所有的操作系统内核、机器语言底层、编译器层面都是使用 C语言 来实现的。</p>
</blockquote>
<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><p>链表是一种元素内存空间离散排列的线性数据结构。它的内存存储示意图大致如下：</p>
<!--一个链表的内存示意图-->
<p><img src="http://upload-images.jianshu.io/upload_images/1256297-d8a7959360536fd2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="003.链表内存示意图.png"></p>
<p>链表是整个数据结构的一个基础，后面的线性结构几乎都需用到链表的知识，下面就从这几个方面来介绍链表。</p>
<ul>
<li>定义</li>
<li>分类</li>
<li>算法</li>
<li>优缺点</li>
</ul>
<p><strong>【链表定义/特点】</strong><br>n个节点离散分配<br>彼此通过指针相连<br>每个节点只有一个前驱节点，每个节点只有一个后续节点<br>首节点没有前驱节点，尾节点没有后续节点</p>
<p><strong>首节点：</strong><br>第一个有效节点</p>
<p><strong>尾节点：</strong><br>最后一个有效节点</p>
<p><strong>头结点：</strong><br>第一个有效节点前面的那个节点，头结点并不存放有效数据，加头结点的目的主要是为了方便对链表的操作，头结点的数据类型和首节点一样</p>
<p><strong>头指针：</strong><br>指向头结点的指针变量</p>
<p><strong>尾指针：</strong><br>指向尾节点的指针变量</p>
<p><strong>确定一个链表需要的最少的参数有哪些？</strong><br>根据链表的示意图可以简单推出来所有该链表的信息。<br>实际上只需要一个关键信息：<strong>头指针</strong><br>因为我们通过头指针就可以推算出链表的其他所有信息。</p>
<p><strong>【节点的表示】</strong><br><img src="http://upload-images.jianshu.io/upload_images/1256297-62d65c428bd52aaa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="004.链表节点表示图.png"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 代码的表示如下</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> data;     <span class="comment">//数据域</span></div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">pNext</span>;</span>     <span class="comment">// 指针域 - 指向相同类型的下一个节点</span></div><div class="line">&#125;*PNODE,NODE;  <span class="comment">// PNODE 等价于 struct Node * ， NODE 等价于 struct Node</span></div><div class="line"></div><div class="line">【只需要拿到 pNext 指针就能推算出整个链表】</div></pre></td></tr></table></figure>
<p><strong>【链表的分类】</strong><br>链表可以分为如下类别：</p>
<ul>
<li>单链表 – 上面的实例</li>
<li>双链表 – 每个节点有两个指针域，分别指向前后两个节点<br><img src="http://upload-images.jianshu.io/upload_images/1256297-8708b34fd315045b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="双向链表表示.png"></li>
</ul>
<ul>
<li>循环链表 – 能通过任何一个节点找到其他所有节点的链表，环形链表</li>
<li>非循环链表 – 非环形普通列表</li>
</ul>
<p><strong>【关于链表的常见算法】</strong></p>
<p>常见算法有：</p>
<ul>
<li>创建链表  </li>
<li>遍历</li>
<li>查找</li>
<li>清空</li>
<li>销毁</li>
<li>求长度</li>
<li>排序</li>
<li>删除节点</li>
<li>插入节点</li>
<li>·····</li>
</ul>
<p>下面就逐步讲一下各个算法的思路，用伪算法的方式来帮助理解</p>
<p><strong>1 创建链表</strong></p>
<p>创建链表，首先需要确定链表的长度 int length 然后根据长度创建对应个数的节点，并把新创建的节点挂到链表的最后。简单来说就是：</p>
<p>1 创建头结点<br>2 循环创建新节点挂到链表尾部</p>
<p>创建头节点，首先要创建一个没有存储值的头节点，我们本身定义了 NODE 结构体，可以根据NODE类型动态分配一块内存空间</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 创建一个值域为空的头结点,给头指针分配内存</span></div><div class="line">PNODE pHead = (PNODE)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(PNODE)); <span class="comment">// 头指针</span></div></pre></td></tr></table></figure>
<p>创建新节点，需要根据定义的长度循环，这里的难点就是如何把新节点挂到链表尾部【这里还是要明确指针和指针变量的概念，这样会更好理解一些】<br>为了能让新创建的节点挂到尾部，我们直接使用pHead-&gt;pNext = pNew;<br>是不行的，这样只能最后添加一个，并且其他的都会被泄漏。这里我们使用一个站位尾节点来表示尾节点</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">PNODE pTail = pHead; // 站位尾节点,直接赋值给 pTail,这是栈内存分配；</div><div class="line">pTail-&gt;pNext = NULL;</div><div class="line"></div><div class="line">for循环&#123;</div><div class="line">    // 1.保存值和指针，变成完整新节点</div><div class="line">    pNew-&gt;data = val;</div><div class="line">    pNew-&gt;pNext = NULL;</div><div class="line">    // 2.当前新节点追加到原来尾节点后面</div><div class="line">    pTail-&gt;pNext = pNew;</div><div class="line">    // 3.新节点变成原来尾节点</div><div class="line">    pTail = pNew;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>为了便于理解，请先弄清楚，指针和指针变量区别，下图逐步讲解<br><img src="http://upload-images.jianshu.io/upload_images/1256297-0b026d1b5af23a17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="链表创建过程.png"></p>
<p><strong>2 遍历链表</strong></p>
<p>遍历链表思路：<br>遍历链表只能通过头结点的 pNext 指针找到下一个节点，并循环到 pNext == NULL 为止，分别打印 值域的值即可。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 通过头节点遍历后面节点</span></div><div class="line">PNODE p = pHead-&gt;pNext; <span class="comment">//获得首节点</span></div><div class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>) &#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"data = %d \n"</span>,p-&gt;data);</div><div class="line">    p = p-&gt;pNext;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"遍历完毕，退出\n"</span>);</div><div class="line"><span class="keyword">return</span>;</div></pre></td></tr></table></figure>
<p><strong>3 判断是否为空链表</strong></p>
<p>判断是够为空链表，直接拿头结点的 pNext 指针取值判断是否为 NULL 即可</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty_list</span><span class="params">(PNODE pHead)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> ((*pHead).pNext == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>4 求链表长度</strong></p>
<p>求链表长度类似于遍历链表，这里主要是计算有效节点的个数，这个个数就是长度</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">length_list</span><span class="params">(PNODE pHead)</span></span></div><div class="line">&#123;</div><div class="line">    PNODE p = pHead-&gt;pNext;</div><div class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (p-&gt;pNext == <span class="literal">NULL</span>) &#123;</div><div class="line">        len++;</div><div class="line">        p = p-&gt;pNext;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> len;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>5 插入节点</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1256297-a786338daf0b74c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="链表节点插入.png"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line">其实思路很简单，主要是吧 p指向节点的的pNext 指向 q,</div><div class="line">然后q所指向的下个节点直接指向原来p所指向的节点。</div><div class="line">伪代码如下：</div><div class="line"></div><div class="line">temp = p-&gt;pNext;</div><div class="line">p-&gt;pNext -&gt; q;</div><div class="line">q-&gt;pNext = temp;</div><div class="line">    </div><div class="line">或者直接</div><div class="line">q-&gt;pNext = P-&gt;pNext;</div><div class="line">P-&gt;pNext = q;</div></pre></td></tr></table></figure>
<p>本方法代码实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">insert_list</span><span class="params">(PNODE pHead , <span class="keyword">int</span> pos , <span class="keyword">int</span> val)</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="comment">// 判断位置是否合法</span></div><div class="line">    PNODE q = pHead;   <span class="comment">// 要插入的位置，如果是 &lt;= 0,则直接插到最前面，如果是 pos = 1 就插入第一个后面,pos = n,就插到第 n 个后面</span></div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; pos) &#123;</div><div class="line">        <span class="keyword">if</span> (q-&gt;pNext == <span class="literal">NULL</span>) &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"要插入的位置不合法;大于链表长度\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            q = q-&gt;pNext; <span class="comment">//要被插入的节点</span></div><div class="line">            i++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 插入操作</span></div><div class="line">    PNODE p = (PNODE)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NODE));</div><div class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"动态分配内存失败\n"</span>);</div><div class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    p-&gt;data = val;</div><div class="line">    </div><div class="line">    <span class="comment">// 前一个节点为q， 直接添加到 q 后面。</span></div><div class="line">    p-&gt;pNext = q-&gt;pNext;</div><div class="line">    q-&gt;pNext = p;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>6 删除节点</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1256297-5f3c6001203a124f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="链表节点删除.png"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 思路：</span></div><div class="line"><span class="comment">// 想要删除后面的节点，直接让 p 的指针域指向下下个节点就完成了</span></div><div class="line"><span class="comment">// 这里的删除其实很方便，但是有个容易造成内存泄漏的误区</span></div><div class="line"><span class="comment">// 因为直接删除之后，我们就无法在拿到 p 后面的节点的地址，然后无法释放，最终内存泄漏</span></div><div class="line"></div><div class="line"><span class="comment">// 最终实现：</span></div><div class="line">temp = p-&gt;pNext;    <span class="comment">// 临时变量保存要删除节点地址</span></div><div class="line">p-&gt;pNext = p-&gt;pNext-pNext;  <span class="comment">// p 的指针域指向下下个节点</span></div><div class="line"><span class="built_in">free</span>(temp);     <span class="comment">// 释放被删除节点内存</span></div></pre></td></tr></table></figure>
<p>代码实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">delete_list</span><span class="params">(PNODE pHead , <span class="keyword">int</span> pos , <span class="keyword">int</span> * val)</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="comment">// 找到要被删除的元素保存起来</span></div><div class="line">    PNODE p = pHead;</div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; pos - <span class="number">1</span>) &#123; <span class="comment">// 找到被删除节点的前一个节点</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (p-&gt;pNext == <span class="literal">NULL</span>) &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        p = p-&gt;pNext;</div><div class="line">        i++;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (i &lt; pos &amp;&amp; p-&gt;pNext == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"你要删除的位置非法，此位置不在链表长度范围之内\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 找到了要被删除的那个节点</span></div><div class="line">    PNODE t = p-&gt;pNext;;</div><div class="line">    *val = t-&gt;data;     <span class="comment">// 把被删除节点的值传给外面</span></div><div class="line">    </div><div class="line">    p-&gt;pNext = t-&gt;pNext;  <span class="comment">// 直接指向后面一个节点</span></div><div class="line">    <span class="built_in">free</span>(t);    <span class="comment">// 释放被删除节点内存，防止内存泄漏</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>7 链表排序</strong></p>
<p>链表排序同数组不同，但很相似，都是把所有元素遍历然后找到相邻或者相反的值互换位置。</p>
<p>参考数组排序我们可以看一下代码实现</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">void sort_list(PNODE pHead)</div><div class="line">&#123;</div><div class="line"></div><div class="line">    // 数组的排序算法 &lt;-&gt; 链表排序互相对比更好学习排序</div><div class="line">//    for (i = 0 ; i &lt; len - 1; i++) &#123;  // 外围的排序次数 ，没执行完以此只能确定某一最大或最小值</div><div class="line">//        for (j = i + 1; j &lt; len; j++) &#123; // 内循环的排序次数 ，执行完一次把 n 个元素，对比 n-1 次并换位置</div><div class="line">//            </div><div class="line">//            if ( a[i] &lt; a[j]) &#123;</div><div class="line">//                 t = a[i];</div><div class="line">//                a[i] = a[j];</div><div class="line">//                a[j] = t;</div><div class="line">//            &#125;</div><div class="line">//        &#125;</div><div class="line">//    &#125;</div><div class="line">    </div><div class="line">    // 排序的算法有很多种</div><div class="line">    int len = length_list(pHead);</div><div class="line">    int i , j , t;</div><div class="line">    PNODE p , q;</div><div class="line">    </div><div class="line">    for (i = 0 , p = pHead-&gt;pNext; i &lt; len - 1; i++ , p = p-&gt;pNext) &#123;  // 外围的排序次数 ，没执行完以此只能确定某一最大或最小值</div><div class="line">        for (j = i + 1 , q = p-&gt;pNext; j &lt; len; j++ , q = q-&gt;pNext) &#123; // 内循环的排序次数 ，执行完一次把 n 个元素，对比 n-1 次并换位置</div><div class="line">            </div><div class="line">            if (p-&gt;data &gt; q-&gt;data) &#123;  // 比较两个节点数值，并换位置</div><div class="line">                t = p-&gt;data;</div><div class="line">                p-&gt;data = q-&gt;data;</div><div class="line">                q-&gt;data = t;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="小结和感悟"><a href="#小结和感悟" class="headerlink" title="小结和感悟"></a>小结和感悟</h2><p>数组和链表内部是不一样的，但是他们的排序的思路确实一样的，比如冒泡。<br>从排序的思路上都是前一个跟后一个元素比较，把小的放到前面，以此类推</p>
<p><strong>这里简单引入yi算法：</strong><br><strong>狭义的算法：</strong>与数据的存储方式密切相关<br><strong>广义的算法：</strong>与数据的存储方式无关<br><strong>泛型：</strong>利用某种技术达到同一种效果：不同的存储方式，执行的方式是一样的</p>
<p>如何学习算法？</p>
<ul>
<li>看真题流程</li>
<li>分析每个语句的功能</li>
<li>试数</li>
</ul>
<p>自己搞不定，就去看答案，把答案弄懂，实在不行就先记住答案。</p>
<p>本文从数据结构的线性结构开始，分析了两种线性结构【数组】和【链表】,<br>进而逐步讲解和自己手动实现了数组和链表。</p>
<p>通过这两个结构，在讲解过程中也代入了一写算法的基础知识，希望能对大家有所帮助！</p>
<p>本文中所有代码连接地址如下：<a href="https://github.com/xiaoyouPrince/DataStructure" target="_blank" rel="external">https://github.com/xiaoyouPrince/DataStructure</a>;</p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/12/12/数据结构(一)--入门和预备知识/" data-toggle="tooltip" data-placement="top"
                           title="数据结构(一)--入门和预备知识">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2017/12/21/2018:05:09通信录使用/" data-toggle="tooltip" data-placement="top"
                           title="通信录简单使用">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                

            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#数据结构-二-–数组和链表"><span class="toc-text">数据结构(二)–数组和链表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是线性结构"><span class="toc-text">什么是线性结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组和链表"><span class="toc-text">数组和链表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数组"><span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链表"><span class="toc-text">链表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结和感悟"><span class="toc-text">小结和感悟</span></a></li></ol></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#数据结构"
                           title="数据结构">数据结构</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <div style="margin-top: 20px;">
                    <h5 class="text-center">FRIENDS</h5>
                    <ul class="list-inline text-center">
                        
                        <li><a href="http://www.cnblogs.com/xiaoyouPrince/">xiaoyouPrince</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>

    </div>
</article>






<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/xiaoyouPrince">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/xiaoyouPrince">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/xiaoyouPrince">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; xiaoyouPrince 2018
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://xiaoyouprince.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->



<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','null','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="http://upload-images.jianshu.io/upload_images/1256297-d2a8d67a141f0e7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
</body>

</html>
